-- Create "rates" table
CREATE TABLE "rates" ("id" uuid NOT NULL, "created_at" timestamptz NOT NULL, "updated_at" timestamptz NOT NULL, "version" bigint NOT NULL DEFAULT 1, "status" character varying(1) NOT NULL DEFAULT 'A', "rate_number" character varying(10) NOT NULL, "effective_date" date NULL, "expiration_date" date NULL, "rating_method" character varying NOT NULL DEFAULT 'FlatRate', "rate_amount" numeric(19,4) NOT NULL, "comment" text NULL, "commodity_id" uuid NULL, "customer_id" uuid NOT NULL, "origin_location_id" uuid NULL, "destination_location_id" uuid NULL, "business_unit_id" uuid NOT NULL, "organization_id" uuid NOT NULL, "shipment_type_id" uuid NULL, PRIMARY KEY ("id"), CONSTRAINT "rates_business_units_business_unit" FOREIGN KEY ("business_unit_id") REFERENCES "business_units" ("id") ON UPDATE NO ACTION ON DELETE CASCADE, CONSTRAINT "rates_commodities_rates" FOREIGN KEY ("commodity_id") REFERENCES "commodities" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, CONSTRAINT "rates_customers_rates" FOREIGN KEY ("customer_id") REFERENCES "customers" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION, CONSTRAINT "rates_locations_rates_destination" FOREIGN KEY ("destination_location_id") REFERENCES "locations" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, CONSTRAINT "rates_locations_rates_origin" FOREIGN KEY ("origin_location_id") REFERENCES "locations" ("id") ON UPDATE NO ACTION ON DELETE SET NULL, CONSTRAINT "rates_organizations_organization" FOREIGN KEY ("organization_id") REFERENCES "organizations" ("id") ON UPDATE NO ACTION ON DELETE CASCADE, CONSTRAINT "rates_shipment_types_rates" FOREIGN KEY ("shipment_type_id") REFERENCES "shipment_types" ("id") ON UPDATE NO ACTION ON DELETE SET NULL);
-- Set comment to column: "created_at" on table: "rates"
COMMENT ON COLUMN "rates" ."created_at" IS 'The time that this entity was created.';
-- Set comment to column: "updated_at" on table: "rates"
COMMENT ON COLUMN "rates" ."updated_at" IS 'The last time that this entity was updated.';
-- Set comment to column: "version" on table: "rates"
COMMENT ON COLUMN "rates" ."version" IS 'The current version of this entity.';
